/*! videochop by VideoChop-Team 2015-01-23 */
requirejs.config({basePath:"/"});for(var modulesToLoadInDefine=["jquery","jqueryui","modernizr","useragent","filereader","videoItemLoader","videoList","videoTimeline"],modulesLoaded=0,modulesToLoad=modulesToLoadInDefine.length-1,i=0;i<modulesToLoadInDefine.length;i++){var currentModule=modulesToLoadInDefine[i],shims=requirejs.s.contexts._.config.shim;if(shims.hasOwnProperty(currentModule)&&shims[currentModule].deps)for(var deps=shims[currentModule].deps,j=0;j<deps.length;j++)modulesToLoadInDefine.indexOf(deps[j])<0&&modulesToLoad++}var percentage=0,percentageContainer=document.getElementById("percentage"),percentageText=document.getElementById("percentage-text"),currentModuleText=document.getElementById("currently-loading");require.onResourceLoad=function(a,b){"use strict";modulesLoaded+=1,percentage=parseInt(modulesLoaded/modulesToLoad*100,10),displayLoadProgress(percentage),currentModuleText.textContent=b.name};var displayLoadProgress=function(a){"use strict";percentageText.textContent=a,percentageContainer.style.height=a+"%"};define(modulesToLoadInDefine,function(a,b,c,d,e,f,g,h){"use strict";a(document).ready(function(){function b(){k=a(".preloader"),l=a(".application-wrapper"),m=a(".impress-wrapper"),n=a(".nav-item"),o=a(".close-impress"),p=a(".close-help"),q=a("body"),u=l.find(".file-list"),v=l.find(".file-add"),w=u.find(".video-loading")}function c(){a(".time-slider").disableSelection(),n.on("click",function(){a(this).hasClass("impress")&&q.toggleClass("impress-open"),a(this).hasClass("help")&&q.toggleClass("help-open")}),o.on("click",function(){q.toggleClass("impress-open")}),p.on("click",function(){q.toggleClass("help-open")}),a(".file-add-button").on("click",function(){a(".file-add").trigger("click")})}function i(){r=new g({container:".file-list"}),t=new h({minWidth:100,scaleFactor:10,container:".timeline",videoList:r});var b=0;s=new f({tempWrapper:".temporary-video",callback:function(a){r.addItem(a),b--,0===b&&w.fadeOut(200)}}),a(document).on("drop dragover",function(a){a.preventDefault()});var c={readAsDefault:"ArrayBuffer",accept:"video/webm",on:{loadstart:function(){w.show()},groupstart:function(a){b=a.files.length},loadend:function(a,b){s.add({data:new Uint8Array(a.target.result),extension:b.extra.extension,name:b.extra.nameNoExtension,prettySize:b.extra.prettySize,size:b.size,type:b.type})},skip:function(){window.alert("only webm supported"),b--}}};e.setupDrop(u[0],c),e.setupInput(v[0],c)}function j(){modulesLoaded===modulesToLoad&&(k.fadeOut(500),l.addClass("loading-complete"))}{var k,l,m,n,o,p,q,r,s,t,u,v,w;new d}a(".nav").disableSelection(),a(".preview").disableSelection(),b(),j(),c(),i()})});